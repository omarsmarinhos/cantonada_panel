<div class="customers">
  <div class="customers__header">
    <span class="title">MENÚS</span>

  </div>
  <div class="customers__content">
    <div class="main">
      <div class="main__header">
        <div class="main__header__search">
          <mat-form-field appearance="outline" style="width: 100%;" class="h-50 my-input">
            <input type="search" matInput placeholder="Buscar por email, nombre o apellido" [(ngModel)]="searchQuery"
              (keydown.enter)="onSearch()">
            <button matIconSuffix (click)="onSearch()" >
              <mat-icon>search</mat-icon>
            </button>
          </mat-form-field>
        </div>
        <div class="main__header__select">
          <mat-form-field appearance="outline" style="width: 100%;" class="h-50 my-input">
            <mat-label>Ordenar por</mat-label>
            <mat-select [(value)]="selectedState" (selectionChange)="onStateChange()">
              <mat-option>Todos</mat-option>
              <mat-option value="popular">Pendiente</mat-option>
              <mat-option value="price_asc">Activo</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="main__table table-responsive">
        <table mat-table [dataSource]="dataSourceCustomers()">
          <ng-container matColumnDef="tNombre" sticky>
            <th mat-header-cell *matHeaderCellDef>Nombres</th>
            <td mat-cell *matCellDef="let element">
              {{ element.tNombre }}
            </td>
          </ng-container>
          <ng-container matColumnDef="tApellido">
            <th mat-header-cell *matHeaderCellDef>Apellidos</th>
            <td mat-cell *matCellDef="let element">
              {{ element.tApellido }}
            </td>
          </ng-container>
          <ng-container matColumnDef="tTelefono">
            <th mat-header-cell *matHeaderCellDef>Teléfono</th>
            <td mat-cell *matCellDef="let element">
              {{ element.tTelefono }}
            </td>
          </ng-container>
          <ng-container matColumnDef="tEmail">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let element">
              {{ element.tEmail }}
            </td>
          </ng-container>

          <ng-container matColumnDef="fFechaRegistro">
            <th mat-header-cell *matHeaderCellDef>Fecha Registro</th>
            <td mat-cell *matCellDef="let element">
              {{ element.fFechaRegistro | date }}
            </td>
          </ng-container>
          <ng-container matColumnDef="fUltimoAcceso">
            <th mat-header-cell *matHeaderCellDef>Último acceso</th>
            <td mat-cell *matCellDef="let element">
              {{ element.fUltimoAcceso | date }}
            </td>
          </ng-container>

          <ng-container matColumnDef="tEstado">
            <th mat-header-cell *matHeaderCellDef class="center">Estado</th>
            <td mat-cell *matCellDef="let element">
              <span class="badge" [ngClass]="{
                'badge-active': element.tEstado === 'activo',
                'badge-inactive': element.tEstado === 'pendiente'
              }">{{ element.tEstado | capitalize }}</span>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
      <div class="pagination pagination--bottom">
        <app-pagination [totalItems]="totalItems()" [itemsPerPage]="12" [currentPage]="currentPage"
          (pageChange)="onPageChange($event)">
        </app-pagination>
      </div>
    </div>
  </div>
</div>