<div class="reservation__card" [class.pending]="reservation.tEstado === 'pendiente'"
  [class.rejected]="reservation.tEstado === 'rechazado'" [class.approved]="reservation.tEstado === 'aprobado'">
  <div class="reservation__card__content">
    <div class="reservation__card__content__header">
      <div class="reservation__card__content__header__info">
        <span>{{ reservation.tNombre | uppercase }}</span>
        <div class="reservation__card__content__header__info__type">
          <mat-icon>
            restaurant
          </mat-icon>
          <span>{{ reservation.tMotivoReserva }}</span>
        </div>
      </div>
      <div class="reservation__card__content__header__status">
        {{ reservation.tEstado | capitalize}}
      </div>
    </div>
    <div class="reservation__card__content__date">
      <span>Fecha de Registro:</span>
      <span>{{reservation.fRegistro | date: 'dd MMM y, h:mm a'}}</span>
    </div>
    @if (reservation.fAprobacion) {
    <div class="reservation__card__content__date">
      <span>Fecha de Aprobación:</span>
      <span>{{reservation.fAprobacion | date: 'dd MMM y, h:mm a'}}</span>
    </div>
    }
    @if (reservation.fRechazo) {
    <div class="reservation__card__content__date">
      <span>Fecha de Rechazo:</span>
      <span>{{reservation.fRechazo | date: 'dd MMM y, h:mm a'}}</span>
    </div>
    }
    <div class="separator"></div>
    <div class="reservation__card__content__data">
      <span class="reservation__card__content__data__key">
        Teléfono
      </span>
      <span class="reservation__card__content__data__value">
        {{ reservation.tTelefono }}
      </span>
    </div>
    <div class="reservation__card__content__data">
      <span class="reservation__card__content__data__key">
        Email
      </span>
      <span class="reservation__card__content__data__value">
        {{ reservation.tEmail }}
      </span>
    </div>
    <div class="reservation__card__content__data">
      <span class="reservation__card__content__data__key">
        Personas
      </span>
      <span class="reservation__card__content__data__value">
        {{ reservation.iCantidadPersonas }}
      </span>
    </div>
    <div class="reservation__card__content__data">
      <span class="reservation__card__content__data__key">
        Fecha Reserva
      </span>
      <span class="reservation__card__content__data__value">
        {{ reservation.fReserva | date }} {{ reservation.hReserva | timeFormat }}
      </span>
    </div>
    <div class="separator"></div>
  </div>
  <div class="reservation__card__actions">
    @if (reservation.tEstado === 'pendiente') {
    <button class="btn-check" (click)="approveReservation(reservation.iIdReserva)">
      <mat-icon>check_circle</mat-icon>
    </button>
    }
    @if (reservation.tEstado === 'rechazado' || reservation.tEstado === 'pendiente' ) {
    <button class="btn-cancel" (click)="openRejectReservationModal(reservation)">
      <mat-icon>cancel</mat-icon>
    </button>
    }
  </div>
</div>